%%
%% WARNING! DO NOT EDIT!
%% This file is automatically generated from scale.model.R
%%
 \name{scale.model}
 \alias{inla.scale.model}
 \alias{scale.model}

 \title{Scale an intrinsic GMRF model}

 \description{This function scales an intrinsic GMRF model so the geometric mean of the
              marginal variances is one}

 \usage{
     inla.scale.model(Q, constr, eps = sqrt(.Machine$double.eps))
 }

 \arguments{

   \item{Q}{A SPD matrix,  either as a (dense) matrix or \code{sparseMatrix}}
   \item{constr}{Linear constraints spanning the null-space of \code{Q};
                 see \code{?INLA::f} and argument \code{extraconstr}} 
   \item{eps}{A small constant added to the diagonal of \code{Q} to name it non-singular}
  }
 \value{
   \code{inla.scale.model} returns a \code{sparseMatrix} of type \code{dgTMatrix} 
   scaled so the geometric mean of the marginal variances (of the non-singular part of
   \code{Q}) is one.
 }
 \author{Havard Rue \email{hrue@math.ntnu.no}}

 \examples{
 ## make an intrinsic GMRF (model="besag")
 data(Germany)
 g = system.file("demodata/germany.graph", package="INLA")
 Q = -inla.graph2matrix(g)
 diag(Q) = 0
 diag(Q) = -rowSums(Q)
 stopifnot(all(rowSums(Q) == 0))
 n = dim(Q)[1]
 Q.scaled = inla.scale.model(Q, constr = list(Q = rep(1, n), e=0))
 }
